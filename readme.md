# AMBROSIA Semantic Layer Tools

This application provides a suite of tools to build and manage the AMBROSIA semantic layer. Each tool is designed to handle a specific part of the semantic workflow, from reconciling terms to generating linked data from models.

## Setup and Installation

To run this application, you will need to set up a Python environment and install the required dependencies. You can use either a standard virtual environment or Anaconda.

### Option 1: Using a Virtual Environment

1.  **Create a virtual environment:**
    Open a terminal in the `App` directory and run the following command:
    ```bash
    python -m venv venv
    ```

2.  **Activate the virtual environment:**
    *   On Windows:
        ```bash
        .\venv\Scripts\activate
        ```
    *   On macOS/Linux:
        ```bash
        source venv/bin/activate
        ```

3.  **Install the required packages:**
    ```bash
    pip install -r requirements.txt
    ```

### Option 2: Using Anaconda Navigator

1.  **Create a new environment:**
    *   Open Anaconda Navigator and go to the "Environments" tab.
    *   Click "Create" and give your new environment a name (e.g., `semantic-layer-tools`).
    *   Select a Python version (e.g., 3.9 or later).

2.  **Install the required packages:**
    *   Activate your new environment.
    *   In the terminal, navigate to the `App` directory and run:
        ```bash
        pip install -r requirements.txt
        ```

## Running the Application

Once your environment is set up and the dependencies are installed, you can run the application with the following command from the `App` directory:

```bash
streamlit run Home.py
```

## Folder Structure and Key Files

This project is organized into several directories, each serving a specific purpose:

*   **`Vocabulary/`**: This directory contains the vocabularies used and generated by the application.
    *   When using the **SKOS Generator**, you can extend existing vocabularies (e.g., `ambrosia-plant-vocab.ttl`, `ambrosia-pathogen-vocab.ttl`) by selecting them from this folder.
    *   The **FSKX to RDF Generator** will create `fskx-models.ttl` and `wiring-instances.ttl` in this directory. If these files are present, the generator will provide an "append" option to add new models to the existing files. Otherwise, it will create them from scratch.

*   **`Mapping_Tables/`**: This folder contains the mapping files that drive the reconciliation and conversion processes.
    *   `master_mapping.xlsx`: This is the central file for mapping units and parameters from FSKX files to controlled vocabularies.
    *   `example files/`: This sub-directory contains example tables that can be used with the **SKOS Generator** and **Reconciliation Service**.

*   **`Reconciliation/`**: This directory contains the logic for the Reconciliation Service.
    *   `config.yaml`: This is a critical configuration file where you must provide your API keys and usernames for the various reconciliation providers (e.g., NCBI, BioPortal). You can also specify preferred ontologies to appear at the top of the dropdown lists for providers that support a large number of ontologies.
